# /fl: コマンド - 完全リファレンス

SuperClaudeパラメータバイパスとSpikeデベロップメントワークフロー統合機能を持つ、強化されたfluorite-mcpコマンド群です。

## 概要

`/fl:` コマンドシリーズは、完全なSuperClaudeパラメータバイパスサポートを提供する強化されたfluorite-mcp機能を提供します。これらのコマンドは、Claude Code CLIとfluorite-mcpの包括的なライブラリ知識およびSpikeデベロップメントワークフローをブリッジします。

**主要機能**:
- 🚀 **SuperClaude統合**: 完全なパラメータバイパスサポート（`--loop`、`--wave-mode`、`--delegate`など）
- 📚 **ライブラリ知識**: 87以上のライブラリ仕様とパターンへのアクセス
- 🛠️ **Spikeテンプレート**: 750以上の本番対応開発スキャフォールド
- 🎯 **インテリジェント自動化**: AI駆動のテンプレート選択とコード生成
- 🔄 **反復ワークフロー**: 組み込まれた洗練化と品質検証

## コマンドリファレンス

### 主要開発コマンド

#### `/fl:implement`

Spikeデベロップメント統合による強化された機能実装。

**構文**:
```bash
/fl:implement [--フラグ] "機能説明"
```

**SuperClaudeパラメータ**:
- `--loop`: 洗練化による反復実装
- `--wave-mode`: マルチステージ実装戦略
- `--delegate`: 並列タスク委任
- `--until-perfect`: 品質検証ループ
- `--ultrathink`: 深いアーキテクチャ解析
- `--all-mcp`: すべてのMCPサーバー統合

**機能**:
- 自動ライブラリ仕様検索
- Spikeテンプレート統合
- ベストプラクティス強制
- 型安全性検証
- セキュリティパターン適用

**例**:
```bash
/fl:implement --loop --wave-mode "アクセシビリティ対応のReactドラッグアンドドロップツリーコンポーネント"
```

**ワークフロー**:
1. 🔍 **解析**: 要件と既存のコードベースを理解
2. 📚 **ライブラリ調査**: カタログから関連仕様にアクセス
3. 🏗️ **Spike選択**: 実装に最適なテンプレートを選択
4. ⚡ **コード生成**: ベストプラクティスを使用した実装作成
5. ✅ **検証**: 型チェック、セキュリティスキャン、テスト
6. 🔄 **洗練化**: 品質基準を満たすまでの反復改善

#### `/fl:analyze`

インテリジェントな洞察を持つ包括的なコードとプロジェクト解析。

**構文**:
```bash
/fl:analyze [--フラグ] [パス/パターン]
```

**解析機能**:
- **静的解析**: コード品質、セキュリティ脆弱性、パフォーマンス問題
- **依存関係解析**: パッケージ脆弱性、古い依存関係
- **アーキテクチャレビュー**: デザインパターン、結合解析、モジュール性評価
- **パフォーマンスプロファイリング**: バンドルサイズ、レンダリングパフォーマンス、メモリ使用量
- **セキュリティスキャン**: OWASP準拠、シークレット検出、アクセス制御

**例**:
```bash
/fl:analyze --ultrathink --all-mcp "src/components/**/*.tsx"
```

#### `/fl:build`

フレームワーク最適化による強化されたビルド操作。

**構文**:
```bash
/fl:build [--フラグ] [ターゲット]
```

**ビルド機能**:
- フレームワーク特有の最適化
- バンドル解析と最適化
- パフォーマンス予算
- セキュリティ検証
- 型チェック統合

#### `/fl:test`

複数の戦略による包括的なテストワークフロー。

**構文**:
```bash
/fl:test [--フラグ] [テストタイプ]
```

**テストタイプ**:
- **ユニットテスト**: コンポーネントと機能テスト
- **統合テスト**: APIとサービス統合
- **E2Eテスト**: 完全なユーザーワークフロー検証
- **パフォーマンステスト**: 負荷とストレステスト
- **セキュリティテスト**: 脆弱性と侵入テスト

### ドキュメントコマンド

#### `/fl:document`

インテリジェントなドキュメント生成と保守。

**構文**:
```bash
/fl:document [--フラグ] [スコープ]
```

**ドキュメントタイプ**:
- **APIドキュメント**: OpenAPI/Swagger生成
- **コンポーネントドキュメント**: React/Vueコンポーネントガイド
- **アーキテクチャドキュメント**: システム設計とパターン
- **ユーザーガイド**: エンドユーザードキュメント
- **開発者ガイド**: 貢献とセットアップガイド

**例**:
```bash
/fl:document --loop --all-mcp "APIエンドポイントとコンポーネントライブラリ"
```

#### `/fl:explain`

インテリジェントなコード説明と教育コンテンツ。

**構文**:
```bash
/fl:explain [--フラグ] [コード/概念]
```

**説明モード**:
- **コード解析**: 行ごとのコード説明
- **パターン説明**: デザインパターンの識別と説明
- **概念教育**: フレームワークとライブラリ概念の説明
- **ベストプラクティス**: 根拠とともに推奨事項

### 品質・保守コマンド

#### `/fl:improve`

インテリジェントなコード改善とリファクタリング。

**構文**:
```bash
/fl:improve [--フラグ] [ターゲット]
```

**改善エリア**:
- **パフォーマンス**: 最適化とボトルネック除去
- **セキュリティ**: 脆弱性修正とハードニング
- **保守性**: コード整理と可読性
- **アクセシビリティ**: WCAG準拠とインクルーシブデザイン
- **型安全性**: TypeScript改善と検証

#### `/fl:refactor`

安全性保証による体系的なコードリファクタリング。

**構文**:
```bash
/fl:refactor [--フラグ] [スコープ]
```

**リファクタリングタイプ**:
- **コンポーネント抽出**: コンポーネント抽出と再利用性
- **変数リネーム**: コードベース全体の安全なリネーム
- **関数移動**: コード整理とモジュール再構築
- **パターン更新**: モダンパターンの採用

### インフラストラクチャコマンド

#### `/fl:deploy`

ベストプラクティスによるインテリジェントなデプロイ。

**構文**:
```bash
/fl:deploy [--フラグ] [環境]
```

**デプロイ機能**:
- 環境特有の設定
- セキュリティ検証
- パフォーマンス監視セットアップ
- ロールバック計画
- ヘルスチェック実装

#### `/fl:monitor`

オブザーバビリティと監視セットアップ。

**構文**:
```bash
/fl:monitor [--フラグ] [メトリクスタイプ]
```

**監視タイプ**:
- **パフォーマンス監視**: APMとメトリクス収集
- **エラートラッキング**: エラー報告とアラート
- **ユーザー解析**: ユーザー行動と体験追跡
- **インフラ監視**: サーバーとサービスヘルス

## Spikeデベロップメント統合

### 自動テンプレート選択

コマンドは、Spikeデベロップメントワークフローが有益である場合を自動検出します:

**トリガー**:
- 新しいコンポーネント/機能のリクエスト
- フレームワーク特有の実装
- ベストプラクティスパターンの必要性
- 統合要件

**選択プロセス**:
1. **意図解析**: 要件の自然言語理解
2. **コンテキスト評価**: 既存のコードベースとフレームワーク検出
3. **テンプレートマッチング**: AI駆動のテンプレート推奨
4. **カスタマイゼーション**: パラメータベースのテンプレート適応

### Spikeワークフローの例

**ユーザーリクエスト**: "Next.jsアプリにJWT認証を追加"

**自動プロセス**:
1. 🔍 **解析**: Next.jsプロジェクト、認証要件を検出
2. 📚 **ライブラリ検索**: カタログからNextAuth.js仕様にアクセス
3. 🏗️ **Spike選択**: `nextjs-auth-nextauth-credentials` テンプレートを選択
4. ⚡ **実装**: ベストプラクティスによる認証コード生成
5. ✅ **検証**: 型チェック、セキュリティ検証、テスト作成
6. 📖 **ドキュメント**: APIドキュメントとユーザーガイドの更新

**生成されるファイル**:
- `pages/api/auth/[...nextauth].ts` - NextAuth設定
- `lib/auth.ts` - 認証ユーティリティ
- `middleware.ts` - ルート保護
- `components/LoginForm.tsx` - ログインコンポーネント
- `__tests__/auth.test.ts` - 認証テスト

### SuperClaudeパラメータ統合

すべての /fl: コマンドは完全なSuperClaudeパラメータバイパスをサポートします:

#### 主要パラメータ
- `--loop`: 品質検証による反復洗練
- `--wave-mode`: マルチステージ実装戦略
- `--delegate`: 並列タスク処理と委任
- `--until-perfect`: 品質ゲートと検証ループ
- `--ultrathink`: 深い解析とアーキテクチャ思考
- `--all-mcp`: 完全なMCPサーバー統合

#### 思考パラメータ
- `--think`: 強化された解析と推論
- `--think-hard`: 深いアーキテクチャ解析
- `--uc`: ウルトラ圧縮トークン効率モード

#### 検証パラメータ
- `--validate`: 操作前検証と安全性チェック
- `--safe-mode`: 最大検証による保守的操作

#### スコープパラメータ
- `--scope file|module|project`: 操作スコープ制御
- `--focus performance|security|quality`: ターゲット最適化エリア

## 統合例

### Reactコンポーネント開発

```bash
# アクセシビリティ対応ドラッグアンドドロップコンポーネントの作成
/fl:implement --loop --wave-mode --all-mcp "進捗表示、アクセシビリティ、TypeScript対応のReactドラッグアンドドロップファイルアップローダー"
```

**自動統合**:
- React DNDライブラリ仕様検索
- WCAGガイドラインからのアクセシビリティパターン
- TypeScript型定義
- React Testing Libraryによるテストセットアップ
- Storybookドキュメント生成

### API開発

```bash
# 認証付きFastAPIサービスのビルド
/fl:implement --delegate --until-perfect "JWT認証、PostgreSQL、OpenAPIドキュメント付きFastAPI REST API"
```

**適用されるSpikeテンプレート**:
- `fastapi-jwt-auth` - JWT認証セットアップ
- `fastapi-sqlalchemy-postgres` - データベース統合
- `fastapi-openapi-tags` - APIドキュメント
- `fastapi-pytest-minimal` - テストフレームワーク

### フルスタックアプリケーション

```bash
# 完全なアプリケーション開発
/fl:implement --wave-mode --ultrathink --all-mcp "Stripe決済、ユーザー認証、管理ダッシュボード付きNext.js eコマースアプリ"
```

**マルチWave実装**:
1. **Wave 1**: プロジェクトセットアップと認証
2. **Wave 2**: 製品カタログとショッピングカート
3. **Wave 3**: 決済統合とチェックアウト
4. **Wave 4**: 管理ダッシュボードと解析
5. **Wave 5**: テスト、最適化、デプロイ

## 品質保証

### 自動検証

すべての /fl: コマンドには以下が含まれます:

**コード品質**:
- TypeScript型チェック
- ESLint/Prettier フォーマット
- セキュリティ脆弱性スキャン
- パフォーマンス最適化検証

**テスト**:
- ユニットテスト生成
- 統合テストセットアップ
- E2Eテストシナリオ
- パフォーマンスベンチマーク

**ドキュメント**:
- APIドキュメント生成
- コンポーネントドキュメント更新
- 使用例作成
- 移行ガイド更新

### 継続的改善

**学習ループ**:
1. 実装成功率追跡
2. ユーザーフィードバック統合
3. テンプレート効果分析
4. ベストプラクティス進化

**品質メトリクス**:
- コードカバレッジ率
- パフォーマンスベンチマーク
- セキュリティスキャン結果
- ユーザー満足度スコア

## エラーハンドリングと復旧

### インテリジェントエラー検出

**コンパイルエラー**:
- 修正提案付きTypeScript型エラー
- インポート/エクスポート解決問題
- 構文エラー検出と修正

**ランタイムエラー**:
- 一般的なパターンミス
- パフォーマンスアンチパターン
- セキュリティ脆弱性

**統合エラー**:
- 依存関係競合
- バージョン互換性問題
- 設定ミスマッチ

### 自動復旧

**ロールバック機能**:
- 安全な操作ロールバック
- 増分変更適用
- 競合解決戦略

**代替アプローチ**:
- フォールバックテンプレート選択
- 代替実装パターン
- 手動介入ガイダンス

## パフォーマンス最適化

### インテリジェントキャッシュ

**テンプレートキャッシュ**:
- 頻繁使用テンプレートのプリロード
- パラメータベースのテンプレートバリアント
- ユーザー設定学習

**ライブラリ仕様キャッシュ**:
- ローカル仕様ストレージ
- バージョン対応キャッシュ
- 増分更新

### 並列処理

**並行操作**:
- マルチファイル処理
- 並列検証
- 分散テンプレート適用

**リソース管理**:
- メモリ使用量最適化
- CPU使用量バランス
- ネットワークリクエスト最適化

## セキュリティ考慮事項

### セキュアデフォルト

**認証パターン**:
- セキュアセッション管理
- CSRF保護
- 入力検証

**APIセキュリティ**:
- レート制限実装
- 入力サニタイゼーション
- SQLインジェクション防止

### 脆弱性スキャン

**自動スキャン**:
- 依存関係脆弱性チェック
- コードパターンセキュリティ解析
- 設定セキュリティ検証

**コンプライアンスチェック**:
- OWASP Top 10検証
- 業界標準コンプライアンス
- 規制要件チェック

## 高度な使用法

### カスタムテンプレート作成

**テンプレート開発**:
- カスタムSpikeテンプレート作成
- パラメータ定義と検証
- ベストプラクティス統合

**テンプレート共有**:
- コミュニティテンプレート貢献
- テンプレートバージョン管理
- 品質検証プロセス

### CI/CDとの統合

**パイプライン統合**:
- GitHub Actionsワークフロー生成
- 品質ゲート自動化
- デプロイパイプライン作成

**監視統合**:
- パフォーマンス監視セットアップ
- エラートラッキング実装
- 解析とレポート

## トラブルシューティング

### 一般的な問題

**テンプレート選択**:
- 曖昧な要件解決
- テンプレート互換性チェック
- パラメータ検証エラー

**コード生成**:
- 命名競合解決
- インポートパス修正
- 型定義競合

### デバッグツール

**詳細ログ**:
- 詳細な操作追跡
- エラーコンテキスト保持
- パフォーマンスプロファイリングデータ

**診断コマンド**:
- `/fl:debug` - 診断情報
- `/fl:validate` - 操作前検証
- `/fl:status` - 現在の操作状態

## ベストプラクティス

### 効果的な使用法

**要件仕様**:
- 明確で具体的な要件
- コンテキストと制約の定義
- 成功基準の仕様

**反復開発**:
- 洗練化に `--loop` を使用
- 増分機能追加
- 継続的検証

### チームコラボレーション

**共有標準**:
- チーム全体のテンプレート採用
- 一貫したコーディングパターン
- 共有品質基準

**知識共有**:
- テンプレート使用ドキュメント
- ベストプラクティス共有
- 継続学習

---

**/fl: コマンドドキュメント v0.20.3 - SuperClaude統合による強化**