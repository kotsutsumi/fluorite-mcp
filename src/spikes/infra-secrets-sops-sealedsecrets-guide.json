{
  "id": "infra-secrets-sops-sealedsecrets-guide",
  "name": "Infra Secrets (SOPS/SealedSecrets) ガイド",
  "version": "1.0.0",
  "stack": ["kubernetes", "helm", "terraform", "docs"],
  "tags": ["infra", "secrets", "sops", "sealedsecrets", "docs"],
  "description": "K8sのSecret運用でSOPS/SealedSecretsを使う選択肢とCI連携のポイントをまとめたガイド。",
  "files": [
    { "path": "docs/infra-secrets-sops-sealedsecrets.md", "template": "# Secrets with SOPS / SealedSecrets\n\n## SOPS\n- Git上のYAMLをage/GPGで暗号化、CIで復号して`kubectl apply`\n- Pros: ツール標準化、柔軟な鍵管理\n- Cons: 復号処理の漏れに注意\n\n## SealedSecrets\n- `kubeseal`で公開鍵暗号化→Cluster側Controllerが復号\n- Pros: CIに秘密鍵不要、Gitに暗号化YAMLを保存\n- Cons: Controller運用が必要\n\n## CI例 (概念)\n- SOPS: `sops -d secret.enc.yaml | kubectl apply -f -`\n- SealedSecrets: そのまま`kubectl apply -f sealedsecret.yaml`\n\n## Tips\n- どちらでも`preview/prod`の分岐をCIで管理\n- Terraform/Helmと組み合わせる場合の責務分離を明確に\n" }
  ]
}

