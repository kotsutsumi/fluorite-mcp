{
  "id": "r2-signed-get-s3client",
  "name": "Cloudflare R2 Signed GET via S3Client",
  "version": "1.0.0",
  "stack": ["cloudflare", "r2"],
  "tags": ["storage", "download"],
  "description": "Create a signed GET URL to R2 using AWS SDK S3 client.",
  "params": [{ "name": "app_name", "default": "node-app" }],
  "files": [
    { "path": "{{app_name}}/r2-get.mjs", "template": "import { S3Client, GetObjectCommand } from '@aws-sdk/client-s3';\nimport { getSignedUrl } from '@aws-sdk/s3-request-presigner';\nconst s3 = new S3Client({ region: 'auto', endpoint: process.env.R2_ENDPOINT, credentials: { accessKeyId: process.env.R2_ACCESS_KEY_ID, secretAccessKey: process.env.R2_SECRET_ACCESS_KEY } });\nconst url = await getSignedUrl(s3, new GetObjectCommand({ Bucket: process.env.R2_BUCKET, Key: 'download.bin' }), { expiresIn: 300 });\nconsole.log({ url });\n" },
    { "path": "{{app_name}}/.env.example", "template": "R2_ENDPOINT=\nR2_ACCESS_KEY_ID=\nR2_SECRET_ACCESS_KEY=\nR2_BUCKET=\n" }
  ],
  "patches": []
}

