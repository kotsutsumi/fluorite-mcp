{
  "id": "starlight-pagefind-a11y-minimal",
  "name": "Starlight Pagefind アクセシビリティ最小",
  "version": "1.0.0",
  "stack": ["astro", "starlight", "search"],
  "tags": ["docs", "static-site", "search", "a11y", "pagefind", "starlight"],
  "description": "Pagefind UIにフォーカスリング/キーボード操作の視認性を加える最小例（スタイル補助付き）。",
  "params": [
    { "name": "app_name", "default": "starlight-pagefind-a11y" },
    { "name": "title", "default": "My Starlight Docs" },
    { "name": "site_url", "default": "https://example.com" }
  ],
  "files": [
    { "path": "{{app_name}}/package.json", "template": "{\n  \"name\": \"{{app_name}}\",\n  \"private\": true,\n  \"type\": \"module\",\n  \"scripts\": { \"dev\": \"astro dev\", \"build\": \"astro build\", \"postbuild\": \"npx -y pagefind --site dist\", \"preview\": \"astro preview\" },\n  \"devDependencies\": { \"astro\": \"latest\", \"@astrojs/starlight\": \"latest\" },\n  \"dependencies\": { \"pagefind\": \"^1.0.0\" }\n}\n" },
    { "path": "{{app_name}}/astro.config.mjs", "template": "import { defineConfig } from 'astro/config';\nimport starlight from '@astrojs/starlight';\nexport default defineConfig({\n  site: '{{site_url}}',\n  integrations: [ starlight({ title: '{{title}}', sidebar: [{ label: 'Introduction', autogenerate: { directory: 'docs' } }] }) ]\n});\n" },
    { "path": "{{app_name}}/public/pagefind-a11y.css", "template": ":root{ --pf-focus:#0ea5e9 }\n#search :focus{ outline:2px solid var(--pf-focus); outline-offset:2px }\n#search a{ text-decoration:none }\n#search a:focus, #search a:hover{ text-decoration:underline }\n#search input{ border:1px solid #ddd; padding:.5rem .75rem; border-radius:.5rem }\n#search .pagefind-ui__results{ margin-top:.75rem }\n" },
    { "path": "{{app_name}}/src/content/docs/index.mdx", "template": "---\ntitle: Introduction\n---\n\n# {{title}}\n\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/@pagefind/default-ui@1/dist/pagefind-ui.css\"/>\n<link rel=\"stylesheet\" href=\"/pagefind-a11y.css\"/>\n<div id=\"search\" role=\"search\" aria-label=\"Site Search\">\n  <p id=\"kbhint\" style=\"font-size:.9rem; color:#666\">Tab/Shift+Tab でフォーカス、Enter で選択できます。</p>\n</div>\n<script type=\"module\">\n  import PagefindUI from \"https://cdn.jsdelivr.net/npm/@pagefind/default-ui@1/dist/pagefind-ui.es.js\";\n  new PagefindUI({ element: \"#search\", showImages: false, resetStyles: false });\n</script>\n\n> ビルド後に `npx pagefind --site dist` により `dist/pagefind/` が生成されます。\n" }
  ]
}

