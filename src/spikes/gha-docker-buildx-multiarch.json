{
  "id": "gha-docker-buildx-multiarch",
  "name": "Docker buildx Multi-arch Build (GHA)",
  "version": "1.0.0",
  "stack": ["github-actions", "docker"],
  "tags": ["ci", "docker"],
  "description": "Setup buildx and build/push multi-arch images.",
  "params": [{ "name": "app_name", "default": "repo" }, { "name": "image", "default": "ghcr.io/owner/app:latest" }],
  "files": [
    { "path": "{{app_name}}/.github/workflows/buildx.yml", "template": "name: Buildx\n\non: [push]\n\njobs:\n  buildx:\n    runs-on: ubuntu-latest\n    permissions:\n      packages: write\n      contents: read\n    steps:\n      - uses: actions/checkout@v4\n      - uses: docker/setup-qemu-action@v3\n      - uses: docker/setup-buildx-action@v3\n      - uses: docker/login-action@v3\n        with:\n          registry: ghcr.io\n          username: ${{ github.actor }}\n          password: ${{ secrets.GITHUB_TOKEN }}\n      - uses: docker/build-push-action@v6\n        with:\n          push: true\n          platforms: linux/amd64,linux/arm64\n          tags: {{image}}\n" }
  ],
  "patches": []
}

