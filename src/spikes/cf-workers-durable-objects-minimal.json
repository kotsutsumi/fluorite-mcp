{
  "id": "cf-workers-durable-objects-minimal",
  "name": "Cloudflare Durable Objects Minimal",
  "version": "1.0.0",
  "stack": ["cloudflare", "workers", "durable-objects"],
  "tags": ["serverless"],
  "description": "Durable Object にカウンタを保持する最小サンプル。",
  "params": [ { "name": "app_name", "default": "cf-do" } ],
  "files": [
    { "path": "{{app_name}}/worker.js", "template": "export class Counter {\n  constructor(state) { this.state = state; this.value = 0; }\n  async fetch() { this.value++; return new Response(JSON.stringify({ value: this.value }), { headers: { 'content-type': 'application/json' } }); }\n}\nexport default {\n  async fetch(_req, env) { const id = env.COUNTER.idFromName('a'); const obj = env.COUNTER.get(id); return obj.fetch('https://dummy'); }\n};\n" },
    { "path": "{{app_name}}/README.md", "template": "wrangler.toml で durable_objects と binding `COUNTER` を設定してください。\n" }
  ],
  "patches": []
}

