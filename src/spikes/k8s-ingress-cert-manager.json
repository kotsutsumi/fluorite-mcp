{
  "id": "k8s-ingress-cert-manager",
  "name": "K8s Ingress + cert-manager (HTTP-01)",
  "version": "1.0.0",
  "stack": ["kubernetes", "cert-manager"],
  "tags": ["ingress", "tls"],
  "description": "Ingress with annotations for cert-manager HTTP-01.",
  "params": [{ "name": "project_name", "default": "k8s" }],
  "files": [
    { "path": "{{project_name}}/ingress.yaml", "template": "apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: app-ingress\n  annotations:\n    cert-manager.io/cluster-issuer: \"letsencrypt\"\nspec:\n  tls:\n    - hosts: [example.com]\n      secretName: app-tls\n  rules:\n    - host: example.com\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: next-app\n                port:\n                  number: 80\n" }
  ],
  "patches": []
}

