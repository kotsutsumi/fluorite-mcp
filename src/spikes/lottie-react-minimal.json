{
  "id": "lottie-react-minimal",
  "name": "Lottie + React 最小構成",
  "version": "1.0.0",
  "stack": ["react", "lottie-react", "vite"],
  "tags": ["animation", "lottie", "react", "ts"],
  "description": "React + lottie-react で外部URLのLottie JSONを描画する最小テンプレート（Vite）。",
  "params": [
    { "name": "app_name", "default": "lottie-react-demo" },
    { "name": "lottie_url", "default": "https://assets9.lottiefiles.com/packages/lf20_5ngs2ksb.json" }
  ],
  "files": [
    { "path": "{{app_name}}/package.json", "template": "{\n  \"name\": \"{{app_name}}\",\n  \"private\": true,\n  \"type\": \"module\",\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"vite build\",\n    \"preview\": \"vite preview\"\n  },\n  \"dependencies\": {\n    \"react\": \"^18.0.0\",\n    \"react-dom\": \"^18.0.0\",\n    \"lottie-react\": \"latest\"\n  },\n  \"devDependencies\": {\n    \"typescript\": \"^5.0.0\",\n    \"vite\": \"^5.0.0\",\n    \"@types/react\": \"^18.0.0\",\n    \"@types/react-dom\": \"^18.0.0\"\n  }\n}\n" },
    { "path": "{{app_name}}/index.html", "template": "<!doctype html>\n<html lang=\"ja\">\n  <head>\n    <meta charset=\"utf-8\"/>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n    <title>Lottie + React Minimal</title>\n  </head>\n  <body>\n    <div id=\"root\"></div>\n    <script type=\"module\" src=\"/src/main.tsx\"></script>\n  </body>\n</html>\n" },
    { "path": "{{app_name}}/tsconfig.json", "template": "{\n  \"compilerOptions\": {\n    \"target\": \"ES2020\",\n    \"lib\": [\"ES2020\", \"DOM\"],\n    \"jsx\": \"react-jsx\",\n    \"module\": \"ESNext\",\n    \"moduleResolution\": \"Bundler\",\n    \"strict\": true,\n    \"esModuleInterop\": true,\n    \"skipLibCheck\": true,\n    \"forceConsistentCasingInFileNames\": true\n  },\n  \"include\": [\"src\"]\n}\n" },
    { "path": "{{app_name}}/src/main.tsx", "template": "import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { App } from './ui/App';\n\nconst container = document.getElementById('root')!;\ncreateRoot(container).render(<App />);\n" },
    { "path": "{{app_name}}/src/ui/App.tsx", "template": "import React, { useEffect, useState } from 'react';\nimport Lottie from 'lottie-react';\n\nexport function App(){\n  const [data, setData] = useState<any | null>(null);\n  const url = import.meta.env.VITE_LOTTIE_URL || '{{lottie_url}}';\n\n  useEffect(() => {\n    let active = true;\n    fetch(url).then(r => r.json()).then(json => { if(active) setData(json); });\n    return () => { active = false; };\n  }, [url]);\n\n  return (\n    <main style={{ fontFamily: 'sans-serif', padding: 24 }}>\n      <h1>Lottie + React 最小構成</h1>\n      <p>外部URLからLottie JSONを読み込み、コンポーネントで表示します。</p>\n      <div style={{ width: 240, height: 240, border: '1px solid #ddd', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n        {data ? <Lottie animationData={data} loop autoplay style={{ width: 240, height: 240 }} /> : 'Loading...'}\n      </div>\n    </main>\n  );\n}\n" }
  ]
}

