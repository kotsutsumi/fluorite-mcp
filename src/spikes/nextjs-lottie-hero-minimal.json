{
  "id": "nextjs-lottie-hero-minimal",
  "name": "Next.js Lottie ヒーローセクション 最小",
  "version": "1.0.0",
  "stack": ["nextjs", "react", "lottie"],
  "tags": ["nextjs", "app-router", "client", "lottie", "hero"],
  "description": "Lottieを背景に重ねたヒーローセクションの最小例。Reduced Motionを考慮し、テキスト/CTAを重ねる。",
  "params": [
    { "name": "lottie_url", "default": "https://assets9.lottiefiles.com/packages/lf20_5ngs2ksb.json" },
    { "name": "headline", "default": "Build delightful experiences" },
    { "name": "subcopy", "default": "Fast, accessible, and beautiful by default." }
  ],
  "files": [
    {
      "path": "app/hero/page.tsx",
      "template": "'use client';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Lottie, { LottieRefCurrentProps } from 'lottie-react';\n\nfunction useReducedMotion(){\n  const [reduced, setReduced] = useState(false);\n  useEffect(()=>{\n    const m = window.matchMedia('(prefers-reduced-motion: reduce)');\n    const on = () => setReduced(!!m.matches);\n    on();\n    m.addEventListener('change', on);\n    return () => m.removeEventListener('change', on);\n  },[]);\n  return reduced;\n}\n\nexport default function Page(){\n  const ref = useRef<LottieRefCurrentProps>(null);\n  const [data, setData] = useState<any | null>(null);\n  const url = process.env.NEXT_PUBLIC_LOTTIE_URL || '{{lottie_url}}';\n  const reduced = useReducedMotion();\n\n  useEffect(()=>{ let a=true; fetch(url).then(r=>r.json()).then(j=>{ if(a) setData(j); }); return ()=>{ a=false; }; },[url]);\n\n  return (\n    <main style={{ fontFamily:'system-ui, sans-serif' }}>\n      <section style={{ position:'relative', height:'70vh', display:'grid', placeItems:'center', overflow:'hidden' }}>\n        {data && (\n          <Lottie lottieRef={ref} animationData={data} loop autoplay={!reduced} style={{ position:'absolute', inset:0, width:'100%', height:'100%', objectFit:'cover', opacity:0.5 }} />\n        )}\n        <div style={{ position:'relative', textAlign:'center', padding:24 }}>\n          <h1 style={{ fontSize:48, margin:0, lineHeight:1.1 }}>{{headline}}</h1>\n          <p style={{ opacity:0.8, fontSize:18, marginTop:12 }}>{{subcopy}}</p>\n          <a href=\"#get-started\" style={{ display:'inline-block', marginTop:24, background:'#0ea5e9', color:'#fff', padding:'10px 16px', borderRadius:8, textDecoration:'none' }}>Get Started</a>\n        </div>\n      </section>\n      <section id=\"get-started\" style={{ padding:24, maxWidth:800, margin:'0 auto' }}>\n        <h2>Get Started</h2>\n        <p>ここに概要やセットアップ手順を記載します。</p>\n      </section>\n    </main>\n  );\n}\n"
    }
  ]
}

