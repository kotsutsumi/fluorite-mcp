{
  "id": "nextjs-lottie-hero-theme-toggle-minimal",
  "name": "Next.js Lottie ヒーロー(テーマ切替/スケルトン) 最小",
  "version": "1.0.0",
  "stack": ["nextjs", "react", "lottie"],
  "tags": ["nextjs", "app-router", "client", "lottie", "hero", "theme"],
  "description": "ダーク/ライトのテーマ切替（CSS変数）とLottie読み込みスケルトンを備えたヒーロー最小例。",
  "params": [
    { "name": "lottie_url", "default": "https://assets9.lottiefiles.com/packages/lf20_5ngs2ksb.json" },
    { "name": "headline", "default": "Build delightful experiences" },
    { "name": "subcopy", "default": "Fast, accessible, and beautiful by default." }
  ],
  "files": [
    { "path": "app/hero-theme/page.tsx", "template": "'use client';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Lottie, { LottieRefCurrentProps } from 'lottie-react';\n\nfunction useReducedMotion(){\n  const [reduced, setReduced] = useState(false);\n  useEffect(()=>{ const m=window.matchMedia('(prefers-reduced-motion: reduce)'); const on=()=>setReduced(!!m.matches); on(); m.addEventListener('change', on); return ()=>m.removeEventListener('change', on); },[]);\n  return reduced;\n}\n\nexport default function Page(){\n  const ref = useRef<LottieRefCurrentProps>(null);\n  const [data, setData] = useState<any | null>(null);\n  const [theme, setTheme] = useState<'light'|'dark'>('light');\n  const url = process.env.NEXT_PUBLIC_LOTTIE_URL || '{{lottie_url}}';\n  const reduced = useReducedMotion();\n\n  useEffect(()=>{ let a=true; fetch(url).then(r=>r.json()).then(j=>{ if(a) setData(j); }); return ()=>{ a=false; }; },[url]);\n\n  const vars: React.CSSProperties = theme === 'dark'\n    ? { \n        ['--hero-bg' as any]:'#0b1220', ['--hero-fg' as any]:'#e5e7eb', ['--hero-accent' as any]:'#38bdf8' \n      }\n    : { \n        ['--hero-bg' as any]:'#f8fafc', ['--hero-fg' as any]:'#0f172a', ['--hero-accent' as any]:'#0ea5e9' \n      };\n\n  return (\n    <main style={{ ...vars, fontFamily:'system-ui, sans-serif', background:'var(--hero-bg)', color:'var(--hero-fg)', minHeight:'100vh' }}>\n      <section style={{ position:'relative', height:'70vh', display:'grid', placeItems:'center', overflow:'hidden' }}>\n        {!data && (<div style={{ position:'absolute', inset:0, display:'grid', placeItems:'center' }}><div style={{ width:240, height:240, borderRadius:16, background:'linear-gradient(135deg, #e5e7eb 0%, #cbd5e1 100%)', opacity:.35 }} /></div>)}\n        {data && (<Lottie lottieRef={ref} animationData={data} loop autoplay={!reduced} style={{ position:'absolute', inset:0, width:'100%', height:'100%', objectFit:'cover', opacity:0.45 }} />)}\n        <div style={{ position:'relative', textAlign:'center', padding:24 }}>\n          <h1 style={{ fontSize:48, margin:0, lineHeight:1.1 }}>{{headline}}</h1>\n          <p style={{ opacity:0.85, fontSize:18, marginTop:12 }}>{{subcopy}}</p>\n          <div style={{ display:'flex', gap:12, justifyContent:'center', marginTop:24 }}>\n            <a href=\"#get-started\" style={{ display:'inline-block', background:'var(--hero-accent)', color:'#fff', padding:'10px 16px', borderRadius:8, textDecoration:'none' }}>Get Started</a>\n            <button onClick={()=> setTheme(t=> t==='light'?'dark':'light')} style={{ background:'transparent', color:'inherit', border:'1px solid currentColor', padding:'10px 16px', borderRadius:8 }}>Toggle {theme==='light'?'Dark':'Light'}</button>\n          </div>\n        </div>\n      </section>\n      <section id=\"get-started\" style={{ padding:24, maxWidth:800, margin:'0 auto' }}>\n        <h2>Get Started</h2>\n        <p>ここに概要やセットアップ手順を記載します。</p>\n      </section>\n    </main>\n  );\n}\n" }
  ]
}

