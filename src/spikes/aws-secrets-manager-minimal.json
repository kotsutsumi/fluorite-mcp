{
  "id": "aws-secrets-manager-minimal",
  "name": "AWS Secrets Manager 最小",
  "version": "1.0.0",
  "stack": ["aws", "secretsmanager"],
  "tags": ["secrets"],
  "description": "Secrets Manager のシークレット取得。",
  "params": [ { "name": "app_name", "default": "secrets-demo" }, { "name": "secret_id", "default": "my/secret" } ],
  "files": [
    { "path": "{{app_name}}/package.json", "template": "{ \"name\": \"{{app_name}}\", \"private\": true, \"scripts\": { \"start\": \"node get.js\" }, \"dependencies\": { \"@aws-sdk/client-secrets-manager\": \"latest\" } }\n" },
    { "path": "{{app_name}}/get.js", "template": "const { SecretsManagerClient, GetSecretValueCommand } = require('@aws-sdk/client-secrets-manager');\nconst sm = new SecretsManagerClient({});\n(async () => { const r = await sm.send(new GetSecretValueCommand({ SecretId: '{{secret_id}}' })); console.log('length', (r.SecretString||'').length); })();\n" }
  ],
  "patches": []
}

