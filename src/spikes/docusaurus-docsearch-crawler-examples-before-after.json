{
  "id": "docusaurus-docsearch-crawler-examples-before-after",
  "name": "Docusaurus DocSearch クローラー Before/After 例集",
  "version": "1.0.0",
  "stack": ["react", "docusaurus", "algolia", "guide"],
  "tags": ["docs", "docsearch", "crawler", "examples", "docusaurus"],
  "description": "よくある失敗パターンと修正例（Before/After）をまとめたハンズオン向け例集。",
  "files": [
    {
      "path": "docs/docsearch-crawler-before-after.md",
      "template": "# DocSearch Crawler Before / After\n\n## Case 1: 見出しが抽出できない\n**Before**\n```json\n{ \"selectors\": { \"text\": \"body *\" } }\n```\n**After**\n```json\n{ \"selectors\": {\n  \"lvl1\": \".theme-doc-markdown h1\",\n  \"lvl2\": \".theme-doc-markdown h2\",\n  \"lvl3\": \".theme-doc-markdown h3\",\n  \"text\": \".theme-doc-markdown p, .theme-doc-markdown li\"\n}}\n```\n\n## Case 2: ノイズページが混入\n**Before**\n```json\n{ \"stop_urls\": [] }\n```\n**After**\n```json\n{ \"stop_urls\": [\n  \"/changelog/\", \"/privacy/\", \"/terms/\", \"/search\", \"/tags/\"\n]}\n```\n\n## Case 3: ランキングが弱い\n**Before**\n```json\n{ \"custom_settings\": { \"searchableAttributes\": [\"content\"] } }\n```\n**After**\n```json\n{ \"custom_settings\": {\n  \"searchableAttributes\": [\n    \"unordered(hierarchy.lvl1)\", \"unordered(hierarchy.lvl2)\",\n    \"unordered(hierarchy.lvl3)\", \"content\"\n  ],\n  \"customRanking\": [\"desc(pageRank)\", \"desc(level)\", \"asc(position)\"]\n}}\n```\n\n## Case 4: 多言語対応\n**Before**\n```json\n{ \"start_urls\": [\"https://docs.example.com\"] }\n```\n**After**\n```json\n{ \"start_urls\": [\n  { \"url\": \"https://docs.example.com/\", \"tags\": [\"lang:en\"] },\n  { \"url\": \"https://docs.example.com/ja/\", \"tags\": [\"lang:ja\"] }\n], \"sitemaps\": [\n  \"https://docs.example.com/sitemap.xml\",\n  \"https://docs.example.com/ja/sitemap.xml\"\n]}\n```\n\n> これらのスニペットはテンプレ群（minimal/advanced/i18n/ranking/hierarchy）から抽出した要点です。\n"
    }
  ]
}

