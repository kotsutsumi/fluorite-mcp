{
  "id": "opentelemetry-node-tracing-minimal",
  "name": "OpenTelemetry Node トレーシング 最小",
  "version": "1.0.0",
  "stack": ["opentelemetry", "node"],
  "tags": ["otel", "tracing", "node"],
  "description": "OpenTelemetry のNodeアプリ最小トレース初期化。",
  "params": [{ "name": "service_name", "default": "my-service" }],
  "files": [
    { "path": "otel/tracer.js", "template": "const { NodeTracerProvider } = require('@opentelemetry/sdk-trace-node');\nconst { SimpleSpanProcessor } = require('@opentelemetry/sdk-trace-base');\nconst { ConsoleSpanExporter } = require('@opentelemetry/sdk-trace-base');\nconst provider = new NodeTracerProvider({ resource: { attributes: { 'service.name': '{{service_name}}' } } });\nprovider.addSpanProcessor(new SimpleSpanProcessor(new ConsoleSpanExporter()));\nprovider.register();\nmodule.exports = require('@opentelemetry/api').trace.getTracer('{{service_name}}');\n" },
    { "path": "otel/demo.js", "template": "const tracer = require('./tracer');\nconst span = tracer.startSpan('demo');\nsetTimeout(()=>{ span.end(); }, 1000);\n" }
  ]
}

