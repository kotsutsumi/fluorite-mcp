{
  "id": "docusaurus-deploy-ci-cloudflare-pages-minimal",
  "name": "Docusaurus Cloudflare Pages デプロイCI 最小",
  "version": "1.0.0",
  "stack": ["react", "docusaurus", "ci"],
  "tags": ["docs", "static-site", "deploy", "cloudflare-pages", "ci", "docusaurus"],
  "description": "Cloudflare Pages に Docusaurus をデプロイする最小CI構成（cloudflare/pages-action）。",
  "params": [
    { "name": "app_name", "default": "docusaurus-cf-pages" },
    { "name": "title", "default": "My Docusaurus Docs" },
    { "name": "url", "default": "https://example.pages.dev" },
    { "name": "baseUrl", "default": "/" },
    { "name": "account_id", "default": "YOUR_ACCOUNT_ID" },
    { "name": "project_name", "default": "docs" }
  ],
  "files": [
    { "path": "{{app_name}}/package.json", "template": "{\n  \"name\": \"{{app_name}}\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"docusaurus start\",\n    \"build\": \"docusaurus build\"\n  },\n  \"dependencies\": {\n    \"@docusaurus/core\": \"latest\",\n    \"@docusaurus/preset-classic\": \"latest\",\n    \"react\": \"^18.0.0\",\n    \"react-dom\": \"^18.0.0\"\n  }\n}\n" },
    { "path": "{{app_name}}/docusaurus.config.js", "template": "// @ts-check\n/** @type {import('@docusaurus/types').Config} */\nmodule.exports = {\n  title: '{{title}}',\n  url: '{{url}}',\n  baseUrl: '{{baseUrl}}',\n  favicon: 'img/favicon.ico',\n  organizationName: 'example',\n  projectName: '{{app_name}}',\n  presets: [[ '@docusaurus/preset-classic', ({ docs: { sidebarPath: require.resolve('./sidebars.js') }, blog: false, theme: { customCss: [] } }) ]]\n};\n" },
    { "path": "{{app_name}}/sidebars.js", "template": "// @ts-check\n/** @type {import('@docusaurus/plugin-content-docs').SidebarsConfig} */\nmodule.exports = { docs: [{ type: 'autogenerated', dirName: '.' }] };\n" },
    { "path": "{{app_name}}/docs/intro.md", "template": "---\nid: intro\nslug: /\ntitle: Introduction\n---\n\n# {{title}}\n\nCloudflare Pages にデプロイする最小構成です。\n" },
    { "path": "{{app_name}}/.github/workflows/deploy-cloudflare.yml", "template": "name: Deploy Docusaurus to Cloudflare Pages\n\non:\n  push:\n    branches: [ main ]\n  workflow_dispatch: {}\n\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-node@v4\n        with:\n          node-version: 20\n      - run: npm ci\n      - run: npm run build\n      - name: Publish to Cloudflare Pages\n        uses: cloudflare/pages-action@v1\n        with:\n          apiToken: ${{ secrets.CLOUDFLARE_API_TOKEN }}\n          accountId: {{account_id}}\n          projectName: {{project_name}}\n          directory: build\n          gitHubToken: ${{ secrets.GITHUB_TOKEN }}\n" }
  ]
}

